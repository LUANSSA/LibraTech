{% extends "core/base.html" %}

{% block titulo_da_pagina %}
Acervo - Arquivos
{% endblock %}

{% comment %} Detalhe do arquivo {% endcomment %}
{% block conteudo %}
<div class="container-lg mt-4">

    <h1 class="mb-4">{{ arquivos.titulo }}</h1>

    <!-- Tabela para telas grandes -->
    <div class="d-none d-md-block">
        <table class="table table-bordered table-hover">
            <tbody>
                <tr>
                    <th>Coleção</th>
                    <td>{{ arquivos.colecao }}</td>
                    <th>Tipo de Arquivo</th>
                    <td>{{ arquivos.tipo_arquivo }}</td>
                </tr>
                <tr>
                    <th>Autor</th>
                    <td>{{ arquivos.autor }}</td>
                    <th>Assunto</th>
                    <td>{{ arquivos.assunto }}</td>
                </tr>
                <tr>
                    <th>Área do Acervo</th>
                    <td>{{ arquivos.area_acervo }}</td>
                    <th>Chamada</th>
                    <td>{{ arquivos.chamada }}</td>
                </tr>
                <tr>
                    <th>Nº de Tombamento</th>
                    <td>{{ arquivos.num_tombamento }}</td>
                    <th>Data de Publicação</th>
                    <td>{{ arquivos.data_publicacao|date:"d/m/Y" }}</td>
                </tr>
                <tr>
                    <th>Disponibilidade</th>
                    <td colspan="3">{% if arquivos.disponibilidade %}Disponível{% else %}Indisponível{% endif %}</td>
                </tr>
                <tr>
                    <th>Descrição</th>
                    <td colspan="3">{{ arquivos.descricao }}</td>
                </tr>
                <tr>
                    <th>Referência ABNT</th>
                    <td colspan="3">{{ arquivos.referencia_ABNT }}</td>
                </tr>
                <tr>
                    <th>Nota</th>
                    <td colspan="3">{{ arquivos.nota }}</td>
                </tr>
                <tr>
                    <th>Data de Cadastro</th>
                    <td>{{ arquivos.data_cadastro|date:"d/m/Y H:i" }}</td>
                    <th>Última Atualização</th>
                    <td>{{ arquivos.data_atualizacao|date:"d/m/Y H:i" }}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Blocos para telas pequenas -->
    <div class="d-md-none">
        <div class="card mb-2">
            <div class="card-body">
                <p><strong>Coleção:</strong> {{ arquivos.colecao }}</p>
                <p><strong>Tipo de Arquivo:</strong> {{ arquivos.tipo_arquivo }}</p>
                <p><strong>Autor:</strong> {{ arquivos.autor }}</p>
                <p><strong>Assunto:</strong> {{ arquivos.assunto }}</p>
            </div>
        </div>
        <div class="card mb-2">
            <div class="card-body"> 
                <p><strong>Área do Acervo:</strong> {{ arquivos.area_acervo }}</p>
                <p><strong>Chamada:</strong> {{ arquivos.chamada }}</p>
                <p><strong>Nº de Tombamento:</strong> {{ arquivos.num_tombamento }}</p>
                <p><strong>Data de Publicação:</strong> {{ arquivos.data_publicacao|date:"d/m/Y" }}</p>
                <p><strong>Disponibilidade:</strong> {% if arquivos.disponibilidade %}Disponível{% else %}Indisponível{% endif %}</p>
            </div>
        </div>
        <div class="card mb-2">
            <div class="card-body"> 
                <p><strong>Descrição:</strong> {{ arquivos.descricao }}</p>
                <p><strong>Referência ABNT:</strong> {{ arquivos.referencia_ABNT }}</p>
                <p><strong>Nota:</strong> {{ arquivos.nota }}</p>
            </div>
        </div>
        <div class="card mb-2">
            <div class="card-body"> 
                <p><strong>Data de Cadastro:</strong> {{ arquivos.data_cadastro|date:"d/m/Y H:i" }}</p>
                <p><strong>Última Atualização:</strong> {{ arquivos.data_atualizacao|date:"d/m/Y H:i" }}</p>
            </div>
        </div>
    </div>

    <!-- Link para visualização do arquivo -->
    <div class="mt-4">
        {% if arquivos.arquivo %}
            <a href="{{ arquivos.arquivo.url }}" class="btn btn-primary btn-sm" target="_blank">Visualizar Arquivo</a>
        {% endif %}
        <a href="javascript:history.back()" class="btn btn-secondary btn-sm">Voltar</a>
        {% if user.is_authenticated %}
            <a href="{% url 'arquivos_alterar' arquivos.id %}" class="btn btn-success btn-sm">Editar</a>
        {% endif %}
    </div>

</div>
{% endblock %}
